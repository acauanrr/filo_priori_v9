graph TB
    %% ============================================
    %% FILO-PRIORI V8: DUAL-STREAM ARCHITECTURE
    %% Compact version for presentation slides
    %% ============================================

    subgraph inputs["ğŸ“¥ INPUTS"]
        direction LR
        sem_input["<b>Semantic Input</b><br/>SBERT Embeddings<br/>[batch, 1536]"]
        struct_input["<b>Structural Input</b><br/>10 Features<br/>[batch, 10]"]
        graph_input["<b>Graph</b><br/>Multi-Edge<br/>edge_index + edge_attr"]
    end

    subgraph semantic["ğŸ”¤ SEMANTIC STREAM"]
        direction TB
        sem_spec["<b>MLP SemÃ¢ntico</b><br/><br/>ğŸ“Š <b>Specs:</b><br/>â€¢ Input: 1536<br/>â€¢ Hidden: 256<br/>â€¢ Output: 256<br/>â€¢ Layers: 2<br/>â€¢ Activation: GELU<br/><br/>âš™ï¸ <b>Params:</b> ~1.0M"]
    end

    subgraph structural["ğŸ•¸ï¸ STRUCTURAL STREAM"]
        direction TB
        struct_mlp["<b>MLP Estrutural</b><br/><br/>ğŸ“Š <b>Specs:</b><br/>â€¢ Input: 10<br/>â€¢ Hidden: 64<br/>â€¢ Output: 64<br/>â€¢ Layers: 2<br/>â€¢ Activation: GELU<br/><br/>âš™ï¸ <b>Params:</b> ~5K"]

        gat["<b>GAT Layer</b><br/><br/>ğŸ“Š <b>Specs:</b><br/>â€¢ Input: 64<br/>â€¢ Hidden: 128 (2 heads)<br/>â€¢ Output: 64<br/>â€¢ Layers: 1<br/>â€¢ Activation: ELU<br/><br/>âš™ï¸ <b>Params:</b> ~26K"]
    end

    subgraph fusion["ğŸ”— FUSION"]
        direction TB
        fusion_mlp["<b>Fusion MLP</b><br/><br/>ğŸ“Š <b>Specs:</b><br/>â€¢ Input: 320 (256+64)<br/>â€¢ Hidden: 256<br/>â€¢ Output: 256<br/>â€¢ Layers: 2<br/>â€¢ Activation: GELU<br/><br/>âš™ï¸ <b>Params:</b> ~166K"]
    end

    subgraph classifier["ğŸ¯ CLASSIFIER"]
        direction TB
        class_mlp["<b>Classificador</b><br/><br/>ğŸ“Š <b>Specs:</b><br/>â€¢ Input: 256<br/>â€¢ Hidden: 128<br/>â€¢ Output: 2 (Pass/Fail)<br/>â€¢ Activation: Softmax<br/><br/>âš™ï¸ <b>Params:</b> ~66K"]
    end

    subgraph output["ğŸ“¤ OUTPUT"]
        direction LR
        predictions["<b>Predictions</b><br/>[batch, 2]<br/>Probabilities"]
    end

    subgraph summary["ğŸ“Š MODEL SUMMARY"]
        direction TB
        total["<b>TOTAL PARAMETERS</b><br/><br/>ğŸ”¢ ~1.26M parÃ¢metros<br/><br/><b>Breakdown:</b><br/>â€¢ Semantic Stream: 79.4%<br/>â€¢ Structural Stream: 0.4%<br/>â€¢ GAT Layer: 2.1%<br/>â€¢ Fusion: 13.2%<br/>â€¢ Classifier: 5.2%"]
    end

    %% Connections
    sem_input --> semantic
    struct_input --> struct_mlp
    graph_input --> gat

    struct_mlp --> gat

    semantic --> fusion_mlp
    gat --> fusion_mlp

    fusion_mlp --> class_mlp
    class_mlp --> predictions

    %% Styling
    classDef inputStyle fill:#E3F2FD,stroke:#1976D2,stroke-width:2px,color:#000
    classDef semanticStyle fill:#E8F5E9,stroke:#388E3C,stroke-width:2px,color:#000
    classDef structuralStyle fill:#FFF3E0,stroke:#F57C00,stroke-width:2px,color:#000
    classDef fusionStyle fill:#F3E5F5,stroke:#7B1FA2,stroke-width:2px,color:#000
    classDef classifierStyle fill:#FCE4EC,stroke:#C2185B,stroke-width:2px,color:#000
    classDef outputStyle fill:#E0F2F1,stroke:#00796B,stroke-width:2px,color:#000
    classDef summaryStyle fill:#FFF9C4,stroke:#F57F17,stroke-width:3px,color:#000

    class inputs inputStyle
    class semantic semanticStyle
    class structural,struct_mlp,gat structuralStyle
    class fusion,fusion_mlp fusionStyle
    class classifier,class_mlp classifierStyle
    class output outputStyle
    class summary,total summaryStyle
